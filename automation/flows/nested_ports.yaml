process_group:
  name: NiFi Flow
  process_groups:
  - name: NestedPortsWorkflow
    processors:
    - id: nested-source
      name: Nested Source
      type: org.apache.nifi.processors.standard.GenerateFlowFile
      scheduling_period: '1 min'
      properties:
        Batch Size: '1'
        Data Format: Text
        Custom Text: nested payload
    - id: nested-result-log
      name: Nested Result Logger
      type: org.apache.nifi.processors.standard.LogAttribute
    process_groups:
    - name: NestedPortsSubflow
      input_ports:
      - id: nested-sub-in
        name: Nested Sub In
      output_ports:
      - id: nested-sub-out
        name: Nested Sub Out
      processors:
      - id: nested-sub-log
        name: LogAttribute (Nested Sub)
        type: org.apache.nifi.processors.standard.LogAttribute
      connections:
      - name: Sub In to Log
        source: nested-sub-in
        destination: nested-sub-log
        relationships: []
      - name: Sub Log to Out
        source: nested-sub-log
        destination: nested-sub-out
        relationships:
        - success
    connections:
    - name: Source to Subflow
      source: nested-source
      destination: nested-sub-in
      relationships:
      - success
    - name: Subflow to Result
      source: nested-sub-out
      destination: nested-result-log
      relationships: []
    auto_terminate:
      nested-result-log:
      - success
